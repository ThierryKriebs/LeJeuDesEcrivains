{% extends 'base.html.twig' %}

{% block body  %}

<div class="accueil_body ">

    <div class="container ">  
       
        <div class="row ">
            <div class="col-6 g-0 d-flex flex-column justify-content-center"> 
                <ul id="idListeArguments" class="accueil_argumentation">
                    <li data-text="Entraînez-vous à écrire des histoires! Recevez des critiques constructives, débâtez, recommencez, progressez, le tout en s’amusant en famille ou entre amis.">Entrainement</li>
                    <li data-text="Affrontez vos amis dans des parties endiablées! Défiez-les pour savoir qui de vous a le plus d'imagination, le style le plus fluide, la meilleure prose, le meilleur sens du rythme, du suspens...">Multijoueurs</li>
                    <li data-text="Élaborez des scénarios dans vos genres littéraires préférés (SF, policier, espionnage…). Evadez-vous dans votre univers et construisez une histoire authentique… à votre image!">Scénarios</li>
                    <li data-text="Prototypez vos romans en collaboration! En manque d’inspiration? Relevez les défis proposés afin de faire émerger de nouvelles idées, de nouvelles pistes à explorer avec plaisir et passion.">Prototypage</li>
                    <li data-text="Grappillez des places dans le classement! (à venir...). Plus vous jouerez, plus vous progresserez, plus vous grapillerez des places et vous démarquerez. Envie de tenter d’atteindre le top 10?">Classement</li>
                </ul>
            </div>

            <div id="detailArguments" data-text="Bienvenue sur le jeu des écrivains!" class="col-6 col-md-6 d-flex align-items-center justify-content-center accueil_details_argument">
                Bienvenue sur le jeu des écrivains!
            </div>
        </div>


        <div id="monCarousel" class="carousel slide my-3 " data-bs-ride="carousel">
            <div class="carousel-inner">
                {% for image in imagesCarroussel %}
                
                    {% if loop.index == 1 %}
                        <div class="carousel-item active">
                            <img class="d-block w-100" src='{{image}}' alt="img {{ loop.index}}"> 
                        </div>
                    {% else %}
                        <div class="carousel-item">
                            <img class="d-block w-100" src='{{image}}' alt="img {{ loop.index}}">
                        </div>
                    {% endif %}
                {% endfor %}
            </div>

            <a class="carousel-control-next" href="#monCarousel" role="button" data-bs-slide="next">
                <span class="carousel-control-next-icon" aria-hidden="true"></span>
                <span class="visually-hidden">Suivant</span>
            </a>

            <a class="carousel-control-prev" href="#monCarousel" role="button" data-bs-slide="prev">
                <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                <span class="visually-hidden">Précédent</span>
            </a>
        </div>

        <div class="cardPourReglesDuJeu">

            <div class="card cardRegles my-3">

                <img src="{{ asset(imagePourRegleDuJeu) }}" class="card-img-top" alt="Image de fond pour la règle du jeu">
                <div class="card-body cardPourReglesDuJeuBody">
                    <h5 class="card-title">Règles du jeu</h5>
                    <p class="card-text cardReglesTexte">Explications pour jouer au jeu des écrivains.</p>

                    <button type="button" class="btn btn-secondary center-block btn-sm" 
                        data-bs-toggle="modal" 
                        data-bs-target="#ModalReglesDuJeu">
                        Lire
                    </button>
                </div>
            </div>
        </div>

    </div>
</div>

<script>
    /*réinitialise la couleur et le contenu du div detailArguments*/
    document.querySelectorAll(".accueil_argumentation li").forEach(li => {
        li.addEventListener("mouseenter", function() {

           let pseudoElementStyle = window.getComputedStyle(this, "::before");
           let bgColor = pseudoElementStyle.backgroundColor; // Récupère la couleur de background
         
           document.getElementById("detailArguments").style.backgroundColor = bgColor;
           document.getElementById("detailArguments").innerText = this.getAttribute("data-text");
         
        });
    });

    /*Change la couleur et le contenu du div detailArguments*/
    document.addEventListener("mouseover", function (event) {//mouseenter ne remonte pas dans le DOM
        
        const liste = document.querySelector(".accueil_argumentation"); // Sélectionne la liste

        // Vérifie si l'élément cliqué est à l'intérieur de la liste
        if (!liste.contains(event.target)) {
            
            document.getElementById("detailArguments").style.backgroundColor = getComputedStyle(document.documentElement).getPropertyValue("--couleur-accueil-detail_arguments-background");
            document.getElementById("detailArguments").innerText = document.getElementById("detailArguments").getAttribute("data-text");
        }
    });

</script>

{% endblock %}
